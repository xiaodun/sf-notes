后端接口自带的 Swagger 文档使用起来并不顺手,几个突出问题如下

- 只有后端服务发了,文档才会生成,会出现用着用着就不行了的情况

- 渲染信息不够简洁,例如开发者对链接地址更敏感,它显示的却是中文名

- 无法扩展功能,比如我需要把一个迭代用到的接口单拿出来放在一起。

![打开swagger页面](./images/openSwaggerPage.png)

# 录入

![录入](./images/recordBtn.png)

![录入弹窗](./images/recordModal.png)

需要填写一个可以访问 swagger 链接,包含域名就可以了

"新增" 单选项如果存在相同的域名还是会覆盖

"覆盖" 用于不同环境

![录入过程](./images/recordGrouping.png)

# 路径菜单

程序会将所有分组显示在一起,并支持多个域名

![录入结果](./images/recordResultPreview.png)

可以选择标签、单个接口

![选择多个接口](./images/chooseMultiplePath.png)

## 关注

单个关注点击右侧"关注按钮"即可,通过关注面板打开才会有"取消关注按钮"

![单个关注](./images/singleFllowBtn.png)

批量关注会处理所有选择的接口

![批量关注](./images/batchFollowBtn.png)

在关注面板中不会区分域名、分组

如果有多个标签则会区分

![关注多个标签](./images/followMultipleTag.png)

单个标签所有关注的接口一起展示

![关注单个标签](./images/followSingleTag.png)

# 右侧信息

## 前缀

一些接口存在特殊的前缀,但是在文档里又没有明确的展示出来,程序支持配置来记忆这件事

打开 project.json,在 apiPrefixs 属性中配置

```
域名:{
    分组名:{
        "前缀":[
            接口前缀,程序会以此匹配哪些接口有前缀
        ]
    }
}
```

域名支持正则

```
        "http://wenwo-cloud-adapter-doctor-(rebuild-test)|(test).wenwo.cn": {
            "patient-H5": {
                "/api/gateway/doctor": [
                    "/p/h5"
                ]
            },
```

没有前缀

```
        "http://wenwo-cloud-adaptor-biz-domain-community-rebuild-test.wenwo.cn": {
            "default": {
                "": [
                    "/bizc"
                ]
            }
        },
```

"前缀"的显示有三种

- "没有配置前缀",红色字体
- "没有前缀",在 apiPrefixs 配置中明确标识没有前缀,绿色字体
- 配置的前缀

## 路径

显示接口路径,提供了"复制按钮",如果有前缀,则有"带前缀复制"按钮

## 描述

显示对接口的描述,用蓝色显示

## 被关注的接口

额外显示域名、分组、标签

![关注的路径会额外展示信息](./images/followPathExternalShowInfo.png)

## 请求参数

### 复制功能

根据请求参数的的结构生成 js 对象,并根据属性的数据类型赋初值,默认规则如下

- 数组初始化为`[]`
- 对象初始化为`{}`
- 布尔值随机为`true`或`false`
- 数字初始化为 0
- 普通字符串初始化为`""`
- 是字符串且是枚举的初始化为`null`,涉及后台枚举转换错误

可打开 copySwaggerData.js 做修改

## 列表渲染

相比默认的 swagger 文档,少了请求类型列。数据类型和 schema 合并了,去掉了用中文表达数据结构

名称列鼠标点击可辅助

描述列提供单独的复制按钮,不会缩略展示,对于枚举类型
